<div class="flex min-h-screen bg-[--body]">
  <!-- Overlay -->
  <div 
    *ngIf="isSidebarOpen$ | async" 
    (click)="sidebarService.toggleSidebar()"
    class="fixed inset-0 bg-black/40 backdrop-blur-sm transition-opacity duration-300 lg:hidden z-20">
  </div>

  <!-- Sidebar -->
  <aside 
    [ngClass]="{
      'translate-x-0 w-56 md:w-60': (isSidebarOpen$ | async) ?? true,
      '-translate-x-full lg:translate-x-0 lg:w-16': !((isSidebarOpen$ | async) ?? true)
    }"
    class="fixed top-0 left-0 z-30 h-screen transform transition-all duration-300 ease-in-out 
           bg-white overflow-visible">
    <app-sidebar [isExpanded]="(isSidebarOpen$ | async) ?? true || !isDesktop"></app-sidebar>
  </aside>

  <!-- Main Content -->
  <main [ngClass]="{
    'lg:ml-60 md:w-[calc(100%-15rem)]': (isSidebarOpen$ | async) ?? true,
    'lg:ml-16 lg:w-[calc(100%-4rem)]': !((isSidebarOpen$ | async) ?? true)
  }" 
    class="flex-1  transition-all duration-300 ease-in-out w-full">
    <div class="min-h-[90vh]">
      <router-outlet></router-outlet>
    </div>
    <footer class="px-4 md:px-8 py-6  ">
      <h1 class="font-semibold text-sm md:text-base text-[--blue-text]">Copyright &copy; Kalapi 2023</h1>
    </footer>
  </main>
</div>