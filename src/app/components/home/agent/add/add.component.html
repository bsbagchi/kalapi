<form [formGroup]="agentForm" (ngSubmit)="onSubmit()" class="px-[3%] py-3 md:py-5">
    <div class="bg-white w-full rounded-3xl  shadow p-[2%]">
      <div class="flex justify-between h-12">
        <h1 class="text-[--blue-text] text-lg font-bold">Create Agent</h1>
      </div>
      <div class="grid md:grid-cols-2 pb-5 gap-5 md:gap-10">
        <div class="w-full ">
          <div class="py-2">Name</div>
          <input formControlName="name" class="bg-[--input] h-[50px] w-full rounded-lg p-2 outline-none focus:ring-1 focus:ring-[--primary]" type="text" id="name">
        </div>
        <div class="w-full ">
          <div class="py-2">Remarks</div>
          <input formControlName="remarks" class="bg-[--input] h-[50px] w-full rounded-lg p-2 outline-none focus:ring-1 focus:ring-[--primary]" type="text" id="remarks">
        </div>  
        <!-- newly added -->
        <div class="w-full ">
          <div class="py-2">Address</div>
          <input  class="bg-[--input] h-[50px] w-full rounded-lg p-2 outline-none focus:ring-1 focus:ring-[--primary]" type="text" id="remarks">
        </div>
        <!-- div -->
        <div class="w-full ">
          <div class="py-2">Mobile Number</div>
          <input  class="bg-[--input] h-[50px] w-full rounded-lg p-2 outline-none focus:ring-1 focus:ring-[--primary]" type="text" id="remarks">
        </div>
        <!-- div -->
        <div class="w-full  ">
          <div class="py-2">Pan No</div>
          <div class="flex gap-2">
          <select  class="bg-[--input] h-[50px] w-full rounded-lg p-2 outline-none focus:ring-1 focus:ring-[--primary]" id="remarks">
            <option value="">Slected</option>
            <option *ngFor="let data of pandata" value="data">{{data}}</option>
            </select>
          <button type="button" (click)="showpanmodal=true" class="h-[50px] rounded px-2 bg-[--primary] flex items-center">Add</button>
        </div>
        
        </div>
        <!-- div -->
        <div class="w-full ">
          <div class="py-2">Brokage</div>
          <select formControlName="brokage" class="bg-[--input] h-[50px] w-full rounded-lg p-2 outline-none focus:ring-1 focus:ring-[--primary]">
            <option [ngValue]="0">Taxable amount</option>
            <option [ngValue]="1">Bill amount</option>
          </select>
        </div>
        <!-- div -->
        <div class="w-full ">
          <div class="py-2">Brokage Perccentage</div>
          <input  class="bg-[--input] h-[50px] w-full rounded-lg p-2 outline-none focus:ring-1 focus:ring-[--primary]" type="number" >
        </div>
      </div>
      <div class="flex justify-end gap-2">
        <button type="button" class="h-14 w-36 text-[--primary] border-[--primary] border hover:text-white hover:bg-black font-bold py-2 px-4 rounded-md focus:outline-none focus:shadow-outline" [routerLink]="['/agent']">
          Cancel
        </button>
        <button type="submit" class="h-14 w-36 bg-[--primary] hover:bg-black text-white font-bold py-2 px-4 rounded-md focus:outline-none focus:shadow-outline">
          Submit
        </button>
      </div>
    </div>
  </form>
  <div *ngIf="showpanmodal"  class="fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-gray-200 w-[300px] h-[400px] rounded-md overflow-hidden">
    <button (click)="showpanmodal=false" type="button" class="text-black font-semibold right-2 top-2 bg-[--primary] flex items-center justify-center absolute w-5 h-5 rounded-full">X</button>
    <div class="w-full bg-[--primary] p-1 text-white font-semibold">
      Pan details
    </div>
    <div class="p-2 flex justify-center">
      <div class="flex gap-2">
        <input 
          [(ngModel)]="newPanValue" 
          type="text" 
          class="border px-2 py-1 rounded"
          placeholder="Enter PAN number">
        <button 
          (click)="addPanData()" 
          class="border bg-[--primary] text-white rounded px-2 py-1">
          Add
        </button>
      </div>
    </div>
    <div class="px-2 max-h-[300px] overflow-y-auto">
      <div *ngFor="let pan of pandata; let i = index" class="flex justify-between items-center bg-white p-2 mb-2 rounded shadow">
        <div>{{pan}}</div>
        <div class="flex gap-2">
          <button (click)="editPanData(i)" class="text-blue-500 hover:underline">Edit</button>
          <button (click)="deletePanData(i)" class="text-red-500 hover:underline">Delete</button>
        </div>
      </div>
      <div *ngIf="pandata.length === 0" class="text-center text-gray-500 mt-4">
        No PAN data available
      </div>
    </div>
  </div>